/*
 * @LastEditors: aFei
 * @LastEditTime: 2022-12-05 17:43:39
*/
(function(o){typeof define=="function"&&define.amd?define(o):o()})(function(){"use strict";function o(t,i){this.r=t,this.c=i,this.src=""}function e(t,i,n,h,c,r,l,p){this.r0=t,this.c0=i,this.r1=n,this.c1=h,this.r2=c,this.c2=r,this.r3=l,this.c3=p}function s(t,i,n,h,c,r,l,p,d,m,v){this.cells=[new o(t,i),new o(n,h),new o(c,r),new o(l,p)];for(var w=0;w<this.cells.length;w++)this.cells[w].src=d;this.states=m,this.orgcell=this.cells[v],this.statei=0}s.prototype={IMG:{T:"img/T.png",O:"img/O.png",I:"img/I.png",Z:"img/Z.png",S:"img/S.png",L:"img/L.png",J:"img/J.png"},moveDown:function(){for(var t=0;t<this.cells.length;t++)this.cells[t].r++},moveLeft:function(){for(var t=0;t<this.cells.length;t++)this.cells[t].c--},moveRight:function(){for(var t=0;t<this.cells.length;t++)this.cells[t].c++},rotateR:function(){this.statei++,this.statei==this.states.length&&(this.statei=0),this.rotate()},rotateL:function(){this.statei--,this.statei<0&&(this.statei=this.states.length-1),this.rotate()},rotate:function(){for(var t=this.states[this.statei],i=0;i<this.cells.length;i++){var n=this.cells[i];n.r=this.orgcell.r+t["r"+i],n.c=this.orgcell.c+t["c"+i]}}};function f(){s.call(this,0,3,0,4,0,5,1,4,this.IMG.T,[new e(0,-1,0,0,0,1,1,0),new e(-1,0,0,0,1,0,0,-1),new e(0,1,0,0,0,-1,-1,0),new e(1,0,0,0,-1,0,0,1)],1)}Object.setPrototypeOf(f.prototype,s.prototype),window.T=f;function a(){s.call(this,0,4,0,5,1,4,1,5,this.IMG.O,[new e(0,-1,0,0,1,-1,1,0)],1)}Object.setPrototypeOf(a.prototype,s.prototype),window.O=a;function g(){s.call(this,0,3,0,4,0,5,0,6,this.IMG.I,[new e(0,-1,0,0,0,1,0,2),new e(-1,0,0,0,1,0,2,0)],1)}Object.setPrototypeOf(g.prototype,s.prototype),window.I=g;function y(){s.call(this,0,3,0,4,1,4,1,5,this.IMG.Z,[new e(0,-1,0,0,1,0,1,1),new e(-1,0,0,0,0,-1,1,-1)],1)}Object.setPrototypeOf(y.prototype,s.prototype),window.Z=y;function u(){s.call(this,1,3,1,4,0,4,0,5,this.IMG.S,[new e(1,-1,1,0,0,0,0,1),new e(-1,-1,0,-1,0,0,1,0)],2)}Object.setPrototypeOf(u.prototype,s.prototype),window.S=u;function O(){s.call(this,0,3,1,3,1,4,1,5,this.IMG.L,[new e(-1,0,0,0,0,1,0,2),new e(0,1,0,0,1,0,2,0),new e(1,0,0,0,0,-1,0,-2),new e(0,-1,0,0,-1,0,-2,0)],1)}Object.setPrototypeOf(O.prototype,s.prototype),window.L=O;function I(){s.call(this,1,3,1,4,1,5,0,5,this.IMG.J,[new e(0,-1,0,-2,0,0,-1,0),new e(-2,0,-1,0,0,0,0,1),new e(0,2,0,1,0,0,1,0),new e(2,0,1,0,0,0,0,-1)],2)}Object.setPrototypeOf(I.prototype,s.prototype),window.J=I});